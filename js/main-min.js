!function($){$.widget("kataev.colorpicker",{options:{isCollapsed:!0,valueR:255,valueG:255,valueB:255,value:""},_create:function(){$(this.element).addClass("ui-colorpicker").text("#"),$("<input/>",{"class":"ui-colorpicker-hex"}).appendTo(this.element),$("<div></div>",{"class":"ui-colorpicker-rgb-sliders"}).appendTo(this.element),$("<div></div>",{"class":"ui-colorpicker-red-slider",color:"red"}).appendTo(this.element.children(".ui-colorpicker-rgb-sliders")),$("<div></div>",{"class":"ui-colorpicker-green-slider",color:"green"}).appendTo(this.element.children(".ui-colorpicker-rgb-sliders")),$("<div></div>",{"class":"ui-colorpicker-blue-slider",color:"blue"}).appendTo(this.element.children(".ui-colorpicker-rgb-sliders")),$(".ui-colorpicker-red-slider").slider({animate:!0,min:0,max:255,range:"min",value:this.options.valueR}),$(".ui-colorpicker-green-slider").slider({animate:!0,min:0,max:255,range:"min",value:this.options.valueG}),$(".ui-colorpicker-blue-slider").slider({animate:!0,min:0,max:255,range:"min",value:this.options.valueB}),this.setUpListeners()},_init:function(){this.setRGB(this.options.value),this.element.find(".ui-colorpicker-hex").val(this.options.value),this.setBG(this.options.value)},destroy:function(){},getHEX:function(){var e=parseInt(this.options.valueR).toString(16),i=parseInt(this.options.valueG).toString(16),t=parseInt(this.options.valueB).toString(16);return 1===e.length&&(this.options.valueR>15?e+="0":e="0"+e),1===i.length&&(this.options.valueG>15?i+="0":i="0"+i),1===t.length&&(this.options.valueB>15?t+="0":t="0"+t),e+i+t},setRGB:function(e){6===e.length&&(this.options.valueR=parseInt(e.substring(0,2),16),this.options.valueG=parseInt(e.substring(2,4),16),this.options.valueB=parseInt(e.substring(4,6),16))},setBG:function(e,i){this.element.children(".ui-colorpicker-hex").css("background-color","#"+e),this.options.value=e;var t={};t.handle=this.element.children(".ui-colorpicker-hex").get(),t.value=this.options.value,this._trigger("change",i,t)},value:function(){return this.options.hex},changeColor:function(e,i){switch($(e.target).attr("color")){case"red":e.data.options.valueR=i.value;break;case"green":e.data.options.valueG=i.value;break;case"blue":e.data.options.valueB=i.value}e.data.element.find(".ui-colorpicker-hex").val(e.data.getHEX()),e.data.setBG(e.data.getHEX())},changeByKey:function(e){e.data.setRGB($(e.target).val()),console.log(e.data.getHEX()),e.data.setBG(e.data.getHEX()),e.data.setSliders()},setSliders:function(){this.element.find(".ui-colorpicker-red-slider").slider("value",this.options.valueR),this.element.find(".ui-colorpicker-green-slider").slider("value",this.options.valueG),this.element.find(".ui-colorpicker-blue-slider").slider("value",this.options.valueB)},setUpListeners:function(){this.element.on({mouseenter:function(){$(this).children(".ui-colorpicker-rgb-sliders").slideDown(200)},mouseleave:function(){$(this).children(".ui-colorpicker-rgb-sliders").slideUp(200)}}),this.element.children(".ui-colorpicker-hex").on("keyup",this,this.changeByKey),this.element.find(".ui-colorpicker-red-slider, .ui-colorpicker-green-slider, .ui-colorpicker-blue-slider").bind("slide",this,this.changeColor)}})}(jQuery),function(){var e={settings:{"border-radius":{type:"slider",initial:{animate:!0,min:0,max:50,range:"min",value:2}},"border-size":{type:"slider",initial:{animate:!0,min:0,max:15,range:"min",value:3}},"border-color":{type:"colorpicker",initial:{value:"ff0000"}}},currentValue:{},initialize:function(){this.setUpListeners(),this.setUpOptoinsUI()},setUpListeners:function(){$(this.getIDs("slider")).bind("slide",this.changeCurrentValue),$(this.getIDs("colorpicker")).bind("colorpickerchange",this.changeCurrentValue)},getIDs:function(i){var t="";return $.each(e.settings,function(e,r){r.type===i&&(t+="#"+e+", ")}),t.slice(0,t.length-2)},setUpOptoinsUI:function(){$.each(this.settings,function(e,i){switch(i.type){case"slider":$("#"+e).slider(i.initial);break;case"colorpicker":$("#"+e).colorpicker(i.initial)}}),$.each(this.settings,function(i,t){e.currentValue[i]=t.initial.value}),this.outputValue()},changeCurrentValue:function(i,t){var r=$(t.handle).parent().attr("id");console.log(r),e.currentValue[r]=t.value,e.outputValue()},outputValue:function(){var i='<button id="generated-button">',t="";$.each(this.currentValue,function(i,r){switch(i){case"border-size":r>0&&(t+="border: "+r+"px solid #"+e.currentValue["border-color"]+"; \n");break;case"border-radius":r>0&&(t+="border-radius: "+r+"%; \n")}}),$("#result-button").attr("style",t.slice(0,t.length-3)),i+="</button>",$("#result-html").text(i),$("#result-css").text(""!==t?"#generated-button {\n"+t+"}":"")}};e.initialize()}();